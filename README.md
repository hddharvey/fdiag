# fdiag
This is a nifty little script that generates the fork diagram the results from
running a certain program or command. Run the python script with no arguments
to see a description of its arguments and options.

The python script uses the program forktest and the library libforklog.so in
the background to assist it. forktest runs the command with the library linked
to it (via LD_PRELOAD). The library redefines some syscalls so that information
is sent via a pipe (established by forktest). All this info is retrieved by the
python script and used to generate a diagram.

The Makefile will copy the library into /tmp on your system. This path will be
hardcoded into the binaries generated by the Makefile. You can change it if you
want though (you'll just need to force a recompile via `make -B`). It should 
preferably be an absolute path so that it works in any directory.

If the process tree is too big to show on your terminal screen, then it will
end up looking horribly deformed. To view big process trees, use the `-s` option
to enable the scrollable view (done with Python's ncurses support). For example:

`./fdiag.py -s ./a.out`

## Platforms
This will only work on Linux. I've specifically tested it on my laptop (which 
runs Ubuntu) and a student server running CentOS for a course that I'm tutoring. 
This will definitely NOT work on Microshaft Wangblows!!! (LOL!!!)

It shouldn't work on other Unix-y systems since they won't support Linux's
PR_SET_CHILD_SUBREAPER option. We also need LD_PRELOAD to work which I hear
that Mac OS X doesn't support anymore. There's probably other stuff that would
break on different platforms that I'm not thinking of.
